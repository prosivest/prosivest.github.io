<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Docker on 想上天的鱼</title>
    <link>https://prosivest.github.io/tags/docker/</link>
    <description>Recent content in Docker on 想上天的鱼</description>
    <generator>Hugo -- 0.154.5</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 09 Jan 2026 09:33:37 +0800</lastBuildDate>
    <atom:link href="https://prosivest.github.io/tags/docker/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Docker中开放的端口使用firewall cmd  --list all命令无法查到</title>
      <link>https://prosivest.github.io/posts/docker%E4%B8%AD%E5%BC%80%E6%94%BE%E7%9A%84%E7%AB%AF%E5%8F%A3%E4%BD%BF%E7%94%A8firewall-cmd---list-all%E5%91%BD%E4%BB%A4%E6%97%A0%E6%B3%95%E6%9F%A5%E5%88%B0/</link>
      <pubDate>Fri, 09 Jan 2026 09:33:37 +0800</pubDate>
      <guid>https://prosivest.github.io/posts/docker%E4%B8%AD%E5%BC%80%E6%94%BE%E7%9A%84%E7%AB%AF%E5%8F%A3%E4%BD%BF%E7%94%A8firewall-cmd---list-all%E5%91%BD%E4%BB%A4%E6%97%A0%E6%B3%95%E6%9F%A5%E5%88%B0/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;参考chatgpt 5.2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;因为它只列出 Firewalld 自己管理的规则，而不显示其他程序（如 Docker）直接插入到内核 iptables 表中的规则。&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;如何正确查看到这些端口规则&#34;&gt;如何正确查看到这些端口规则？&lt;/h1&gt;
&lt;p&gt;虽然 &lt;code&gt;firewall-cmd&lt;/code&gt; 查不到，但你可以通过以下几种底层方式验证端口是否在系统层面被开放：&lt;/p&gt;
&lt;h2 id=&#34;1-直接查看-iptables-的-nat-表最底层真相&#34;&gt;1. &lt;strong&gt;直接查看 iptables 的 nat 表（最底层真相）&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;Docker 的端口映射主要在 &lt;code&gt;nat&lt;/code&gt; 表中做 DNAT（目标地址转换）。你可以使用以下命令查看：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -t nat -L -n &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep DOCKER
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;或者查看 Docker 专门的过滤链规则：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -L DOCKER -n
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;2-查看系统网络监听状态&#34;&gt;2. &lt;strong&gt;查看系统网络监听状态&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;使用 &lt;code&gt;netstat&lt;/code&gt; 或 &lt;code&gt;ss&lt;/code&gt; 命令可以看到 Docker 代理进程（&lt;code&gt;docker-proxy&lt;/code&gt;）是否正在监听宿主机的端口：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;netstat -tulnp &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep docker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;或者
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ss -tulnp &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep docker
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;3-使用-docker-命令查看&#34;&gt;3. &lt;strong&gt;使用 Docker 命令查看&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;当然，最直接的方法是查询 Docker 自身的配置：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
